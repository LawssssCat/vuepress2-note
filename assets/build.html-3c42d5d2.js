import{_ as r,r as i,o as d,c,a as n,b as e,d as s,w as o,e as l}from"./app-04e6f892.js";const u={},p=n("h2",{id:"ç¼–è¯‘å·¥ç¨‹å·¥å…·",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ç¼–è¯‘å·¥ç¨‹å·¥å…·","aria-hidden":"true"},"#"),e(" ç¼–è¯‘å·¥ç¨‹å·¥å…·")],-1),b=l(`<h2 id="äºŒè¿›åˆ¶æ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#äºŒè¿›åˆ¶æ–‡ä»¶ç»“æ„" aria-hidden="true">#</a> äºŒè¿›åˆ¶æ–‡ä»¶ç»“æ„</h2><p>å…ˆå‡†å¤‡ä¸€ä¸ªäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><details class="custom-container details"><p>ä»£ç </p><p>calc.c</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>File not found</code></pre><div class="line-numbers" aria-hidden="true"></div></div><p>add.c</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>File not found</code></pre><div class="line-numbers" aria-hidden="true"></div></div><p>tfunc.c</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>File not found</code></pre><div class="line-numbers" aria-hidden="true"></div></div><p>ç¼–è¯‘/è¿è¡Œï¼ˆé™æ€åº“ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token comment"># ã€é™æ€é“¾æ¥ã€‘</span>
<span class="token comment"># .o ç¼–è¯‘è¿‡ç¨‹å„è‡ªç‹¬ç«‹ã€‚è™½ç„¶å…¶ä¸­calc.cä½¿ç”¨äº†å¦å¤–ä¸¤ä¸ªçš„ç¬¦å·ï¼Œä½†æ˜¯æ­¤æ—¶å¹¶ä¸çŸ¥é“é‚£äº›ç¬¦å·æ˜¯åœ¨å“ªä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„ã€‚</span>
<span class="token comment"># -st å½“é“¾æ¥å™¨æŠŠæ‰€æœ‰çš„.oæ–‡ä»¶é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå¯æ‰§è¡Œæ–‡ä»¶æ‰èƒ½ç¡®å®šé‚£äº›ç¬¦å·æ˜¯åœ¨å“ªé‡Œã€‚</span>
gcc <span class="token parameter variable">-c</span> add.c tfunc.c calc.c
<span class="token comment"># gcc add.o tfunc.o calc.o -o calc-st</span>
ar <span class="token parameter variable">-r</span> liboperation.a add.o tfunc.o
gcc calc.c liboperation.a <span class="token parameter variable">-o</span> calc-st

<span class="token comment"># ã€åŠ¨æ€é“¾æ¥ã€‘</span>
gcc <span class="token parameter variable">-c</span> <span class="token parameter variable">-fpic</span> tfunc.c add.c
gcc <span class="token parameter variable">-shared</span> tfunc.o add.o <span class="token parameter variable">-o</span> liboperation.so
gcc calc.c <span class="token parameter variable">-o</span> calc-dy <span class="token parameter variable">-loperation</span> -L<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span> -Wl,-rpath<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span> 

<span class="token comment"># è¿è¡Œ</span>
./calc <span class="token number">1</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="elf-æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#elf-æ–‡ä»¶" aria-hidden="true">#</a> ELF æ–‡ä»¶</h3><p>ELFï¼ˆExecutable and Linkable Formatï¼Œå¯æ‰§è¡Œå’Œå¯é“¾æ¥æ ¼å¼ï¼‰</p>`,5),v={class:"custom-container details"},m=n("p",null,"å‚è€ƒï¼š",-1),h={href:"https://mp.weixin.qq.com/s/ZOvHG_ofiU6iWtoSR9bFow",target:"_blank",rel:"noopener noreferrer"},f=l(`<p>é€šè¿‡ <code>file calc</code> å¯çœ‹åˆ° <code>calc</code> ç¨‹åºçš„æ–‡ä»¶ç±»å‹ä¸º ELF</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">file</span> calc
calc: ELF <span class="token number">64</span>-bit LSB pie executable, x86-64, version <span class="token number">1</span> <span class="token punctuation">(</span>SYSV<span class="token punctuation">)</span>, dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID<span class="token punctuation">[</span>sha1<span class="token punctuation">]</span><span class="token operator">=</span>0e4f3ed1b2b35f1c63e26a0b7e6b59bfb2ebe1a2, <span class="token keyword">for</span> GNU/Linux <span class="token number">3.2</span>.0, not stripped
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ELFæ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ELF header ï¼ˆELF å¤´éƒ¨ï¼‰</td><td></td></tr><tr><td>Program header table ï¼ˆç¨‹åºè¡¨å¤´ï¼‰</td><td></td></tr><tr><td>Sections ï¼ˆèŠ‚ï¼‰</td><td></td></tr><tr><td>Section header table ï¼ˆèŠ‚è¡¨å¤´ï¼‰</td><td></td></tr></tbody></table><p>é€šè¿‡ <code>readelf -l calc</code> å¯çœ‹åˆ° <code>calc</code> ç¨‹åºçš„äºŒè¿›åˆ¶åŒºåŸŸåˆ’åˆ†</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token parameter variable">-l</span> <span class="token comment"># åˆ—å‡ºäºŒè¿›åˆ¶å…¨éƒ¨åŒºåŸŸåˆ’åˆ†ä¿¡æ¯</span>
<span class="token parameter variable">-h</span> <span class="token comment"># å¤´æ–‡ä»¶ä¿¡æ¯ | è¿™ä¸ªå†…å®¹ä¸ç»“æ„ä½“Elf32_Ehdrä¸­çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼</span>
<span class="token parameter variable">-S</span> <span class="token comment"># ç‰‡æ®µå¸ƒå±€</span>

$ readelf <span class="token parameter variable">-l</span> calc

Elf <span class="token function">file</span> <span class="token builtin class-name">type</span> is DYN <span class="token punctuation">(</span>Position-Independent Executable <span class="token function">file</span><span class="token punctuation">)</span> <span class="token comment"># ğŸ’¡ä½ç½®ç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶</span>
Entry point 0x1080                                          <span class="token comment"># ğŸ’¡å…¥å£åœ°å€</span>
There are <span class="token number">13</span> program headers, starting at offset <span class="token number">64</span>         <span class="token comment"># ğŸ’¡13ä¸ªç¨‹åºå¤´ä¿¡æ¯ï¼Œä»ç¬¬64ä¸ªåç§»åœ°å€å¼€å§‹</span>

Program Headers:
  Type           Offset             VirtAddr           PhysAddr
                 FileSiz            MemSiz              Flags  Align
  PHDR           0x0000000000000040 0x0000000000000040 0x0000000000000040
                 0x00000000000002d8 0x00000000000002d8  R      0x8
  INTERP         0x0000000000000318 0x0000000000000318 0x0000000000000318
                 0x000000000000001c 0x000000000000001c  R      0x1
      <span class="token punctuation">[</span>Requesting program interpreter: /lib64/ld-linux-x86-64.so.2<span class="token punctuation">]</span>
  LOAD           0x0000000000000000 0x0000000000000000 0x0000000000000000
                 0x0000000000000660 0x0000000000000660  R      0x1000
  LOAD           0x0000000000001000 0x0000000000001000 0x0000000000001000
                 0x0000000000000225 0x0000000000000225  R E    0x1000
  LOAD           0x0000000000002000 0x0000000000002000 0x0000000000002000
                 0x0000000000000144 0x0000000000000144  R      0x1000
  LOAD           0x0000000000002db0 0x0000000000003db0 0x0000000000003db0
                 0x0000000000000260 0x0000000000000268  RW     0x1000
  DYNAMIC        0x0000000000002dc0 0x0000000000003dc0 0x0000000000003dc0
                 0x00000000000001f0 0x00000000000001f0  RW     0x8
  NOTE           0x0000000000000338 0x0000000000000338 0x0000000000000338
                 0x0000000000000030 0x0000000000000030  R      0x8
  NOTE           0x0000000000000368 0x0000000000000368 0x0000000000000368
                 0x0000000000000044 0x0000000000000044  R      0x4
  GNU_PROPERTY   0x0000000000000338 0x0000000000000338 0x0000000000000338
                 0x0000000000000030 0x0000000000000030  R      0x8
  GNU_EH_FRAME   0x0000000000002014 0x0000000000002014 0x0000000000002014
                 0x0000000000000044 0x0000000000000044  R      0x4
  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000
                 0x0000000000000000 0x0000000000000000  RW     0x10
  GNU_RELRO      0x0000000000002db0 0x0000000000003db0 0x0000000000003db0
                 0x0000000000000250 0x0000000000000250  R      0x1

 Section to Segment mapping:
  Segment Sections<span class="token punctuation">..</span>.
   00
   01     .interp
   02     .interp .note.gnu.property .note.gnu.build-id .note.ABI-tag .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rela.dyn .rela.plt
   03     .init .plt .plt.got .plt.sec .text .fini
   04     .rodata .eh_frame_hdr .eh_frame
   05     .init_array .fini_array .dynamic .got .data .bss
   06     .dynamic
   07     .note.gnu.property
   08     .note.gnu.build-id .note.ABI-tag
   09     .note.gnu.property
   <span class="token number">10</span>     .eh_frame_hdr
   <span class="token number">11</span>
   <span class="token number">12</span>     .init_array .fini_array .dynamic .got
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é™æ€åº“-vs-åŠ¨æ€åº“" tabindex="-1"><a class="header-anchor" href="#é™æ€åº“-vs-åŠ¨æ€åº“" aria-hidden="true">#</a> é™æ€åº“ vs åŠ¨æ€åº“</h3><ul><li><p>é™æ€é“¾æ¥åº“ï¼ˆStatic Link Libraryï¼‰ â€”â€” é™æ€åº“æ˜¯åœ¨é“¾æ¥å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œä»£ç æ®µå’Œæ•°æ®æ®µç›´æ¥æ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­</p><details class="custom-container details"><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ objdump <span class="token parameter variable">-r</span> liboperation.a <span class="token comment"># æœ‰ä¸¤ä¸ª.oæ–‡ä»¶éœ€è¦é‡å®šä½ï¼ˆRELOCATIONï¼‰</span>
In archive liboperation.a:

add.o:     <span class="token function">file</span> <span class="token function">format</span> elf64-x86-64

RELOCATION RECORDS FOR <span class="token punctuation">[</span>.eh_frame<span class="token punctuation">]</span>:
OFFSET           TYPE              VALUE
0000000000000020 R_X86_64_PC32     .text



tfunc.o:     <span class="token function">file</span> <span class="token function">format</span> elf64-x86-64

RELOCATION RECORDS FOR <span class="token punctuation">[</span>.text<span class="token punctuation">]</span>:
OFFSET           TYPE              VALUE
000000000000001d R_X86_64_PLT32    atoi-0x0000000000000004


RELOCATION RECORDS FOR <span class="token punctuation">[</span>.eh_frame<span class="token punctuation">]</span>:
OFFSET           TYPE              VALUE
0000000000000020 R_X86_64_PC32     .text
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details></li><li><p>åŠ¨æ€é“¾æ¥åº“ï¼ˆDynamic Link Libraryï¼Œç®€ç§°DLLï¼‰ â€”â€” ä¸åƒé™æ€åº“æ˜¯åœ¨é“¾æ¥å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œä»£ç æ®µå’Œæ•°æ®æ®µç›´æ¥æ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚åŠ¨æ€åº“æ¥æ˜¯åœ¨è¿è¡Œæ—¶åŠ è½½åŠ¨æ€åº“ä»£ç ï¼ˆç”± ld-linux.so æ¥è´Ÿè´£è¯»å–ï¼‰ï¼Œå› æ­¤æ— æ³•åœ¨ç¼–è¯‘å’Œé“¾æ¥é˜¶æ®µè·å–ä»£ç æ®µçš„ç¬¦å·åœ°å€ï¼ˆä»£ç æ®µçš„ç¬¦å·åŒ…æ‹¬å¼•ç”¨çš„å…¨å±€æ•°æ®ï¼Œè°ƒç”¨çš„å‡½æ•°ç­‰ï¼‰ã€‚</p><details class="custom-container details"><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ objdump <span class="token parameter variable">-r</span> liboperation.so <span class="token comment"># ä¸éœ€è¦é‡å®šä½ï¼ˆRELOCATIONï¼‰</span>

liboperation.so:     <span class="token function">file</span> <span class="token function">format</span> elf64-x86-64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details></li></ul><h3 id="é™æ€é“¾æ¥é‡å®šä½è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#é™æ€é“¾æ¥é‡å®šä½è¿‡ç¨‹" aria-hidden="true">#</a> é™æ€é“¾æ¥é‡å®šä½è¿‡ç¨‹</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ readelf <span class="token parameter variable">-h</span> add.o
ELF Header:
  Magic:   7f <span class="token number">45</span> 4c <span class="token number">46</span> 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              <span class="token number">2</span><span class="token string">&#39;s complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              REL (Relocatable file)
  Machine:                           Advanced Micro Devices X86-64
  Version:                           0x1
  Entry point address:               0x0
  Start of program headers:          0 (bytes into file)
  Start of section headers:          464 (bytes into file)
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           0 (bytes)
  Number of program headers:         0
  Size of section headers:           64 (bytes)
  Number of section headers:         12
  Section header string table index: 11
$ readelf -s add.o
Symbol table &#39;</span>.symtab&#39; contains <span class="token number">4</span> entries:
   Num:    Value          Size Type    Bind   Vis      Ndx Name
     <span class="token number">0</span>: 0000000000000000     <span class="token number">0</span> NOTYPE  LOCAL  DEFAULT  UND
     <span class="token number">1</span>: 0000000000000000     <span class="token number">0</span> FILE    LOCAL  DEFAULT  ABS add.c
     <span class="token number">2</span>: 0000000000000000     <span class="token number">0</span> SECTION LOCAL  DEFAULT    <span class="token number">1</span> .text
     <span class="token number">3</span>: 0000000000000000    <span class="token number">24</span> FUNC    GLOBAL DEFAULT    <span class="token number">1</span> <span class="token function">add</span>

<span class="token comment"># -Ax: æ˜¾ç¤ºåœ°å€çš„æ—¶å€™ï¼Œç”¨åå…­è¿›åˆ¶æ¥è¡¨ç¤ºã€‚å¦‚æœä½¿ç”¨ -Adï¼Œæ„æ€å°±æ˜¯ç”¨åè¿›åˆ¶æ¥æ˜¾ç¤ºåœ°å€;</span>
<span class="token comment"># -t -x1: æ˜¾ç¤ºå­—èŠ‚ç å†…å®¹çš„æ—¶å€™ï¼Œä½¿ç”¨åå…­è¿›åˆ¶(x)ï¼Œæ¯æ¬¡æ˜¾ç¤ºä¸€ä¸ªå­—èŠ‚(1);</span>
<span class="token comment"># -N 52ï¼šåªéœ€è¦è¯»å– 52 ä¸ªå­—èŠ‚;</span>
$ od <span class="token parameter variable">-Ax</span> <span class="token parameter variable">-t</span> x1 <span class="token parameter variable">-N</span> <span class="token number">52</span> calc.o <span class="token comment"># è¯»å–å­—èŠ‚ç </span>
000000 7f <span class="token number">45</span> 4c <span class="token number">46</span> 02 01 01 00 00 00 00 00 00 00 00 00
000010 01 00 3e 00 01 00 00 00 00 00 00 00 00 00 00 00
000020 00 00 00 00 00 00 00 00 <span class="token number">30</span> 03 00 00 00 00 00 00
000030 00 00 00 00
000034
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="todo-é‡å®šä½èŠ‚" tabindex="-1"><a class="header-anchor" href="#todo-é‡å®šä½èŠ‚" aria-hidden="true">#</a> todo é‡å®šä½èŠ‚</h4><p>é‡å®šä½èŠ‚ï¼ˆRelocation Sectionï¼‰æ˜¯DLLæ–‡ä»¶çš„ä¸€ä¸ªç‰¹æ®ŠèŠ‚ï¼Œç”¨äºå­˜å‚¨åœ¨åŠ è½½å’Œé“¾æ¥è¿‡ç¨‹ä¸­éœ€è¦ä¿®æ”¹çš„åœ°å€åç§»é‡ä¿¡æ¯ã€‚å®ƒè®°å½•äº†DLLä¸­æ¶‰åŠåˆ°çš„ç¬¦å·ï¼ˆå¦‚å‡½æ•°ã€å˜é‡ï¼‰çš„åœ°å€ï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶è¿›è¡Œé‡å®šä½ï¼Œä½¿å¾—DLLå¯ä»¥æ­£ç¡®åŠ è½½å’Œè¿è¡Œã€‚</p><h4 id="todo-é‡å®šä½è¡¨" tabindex="-1"><a class="header-anchor" href="#todo-é‡å®šä½è¡¨" aria-hidden="true">#</a> todo é‡å®šä½è¡¨</h4><p>é‡å®šä½è¡¨ï¼ˆRelocation Tableï¼‰æ˜¯é‡å®šä½èŠ‚ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåŒ…å«äº†éœ€è¦é‡å®šä½çš„åœ°å€å’Œåç§»é‡ä¿¡æ¯ã€‚é‡å®šä½è¡¨çš„ä½œç”¨æ˜¯æŒ‡å¯¼ç³»ç»Ÿåœ¨åŠ è½½DLLæ—¶ï¼Œæ ¹æ®å…¶ä¸­çš„é‡å®šä½ä¿¡æ¯ï¼ŒåŠ¨æ€ä¿®æ­£ä»£ç å’Œæ•°æ®çš„åœ°å€ï¼Œä»¥é€‚åº”å½“å‰çš„åŠ è½½åœ°å€ã€‚</p><h3 id="åŠ¨æ€é“¾æ¥-pic-åŸç†" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€é“¾æ¥-pic-åŸç†" aria-hidden="true">#</a> åŠ¨æ€é“¾æ¥ PIC åŸç†</h3><h4 id="fpic" tabindex="-1"><a class="header-anchor" href="#fpic" aria-hidden="true">#</a> -fpic</h4><p>ä½ç½®æ— å…³ç  <code>-fpic</code></p><p>å›é¡¾ gcc ç¼–è¯‘è¿‡ç¨‹ï¼š é¦–å…ˆæŠŠæºä»£ç ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ï¼Œ ç„¶åæŠŠç›®æ ‡æ–‡ä»¶é“¾æ¥èµ·æ¥ã€‚</p><p><strong><code>-fPIC</code></strong></p><p>å¦‚æœæ˜¯åŠ¨æ€é“¾æ¥åº“çš„è¯ï¼Œç›®æ ‡æ–‡ä»¶éœ€è¦åˆ›å»ºæˆ PICï¼ˆposition-independent codeï¼Œä½ç½®æ— å…³ç ï¼‰ ï¼Œæ¦‚å¿µä¸Šå°±æ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè£…è½½å®ƒä»¬çš„æ—¶å€™ï¼Œ å®ƒä»¬å¯ä»¥æ”¾åœ¨å¯æ‰§è¡Œç¨‹åºçš„å†…å­˜é‡Œçš„ä»»ä½•åœ°æ–¹ã€‚è¦ç”Ÿæˆè¿™ç§å½¢å¼çš„ç›®æ ‡æ–‡ä»¶ï¼Œå°±éœ€è¦æ·»åŠ å‚æ•° <code>-fPIC</code>ã€‚</p><ul><li>-fpic â€”â€” åœ¨åŠ¨æ€åº“ä¸­ç”Ÿæˆä½ç½®æ— å…³çš„ä»£ç ã€‚é€šè¿‡å…¨å±€åç§»è¡¨ï¼ˆGOTï¼‰è®¿é—®æ‰€æœ‰å¸¸é‡åœ°å€ã€‚ç¨‹åºå¯åŠ¨æ—¶åŠ¨æ€åŠ è½½ç¨‹åºè§£æGOTæ¡ç›®ã€‚å¯¹GOTçš„å¤§å°æœ‰é™åˆ¶ã€‚</li><li>-fPIC â€”â€” ä½œç”¨åŒ-fpicã€‚ä½†æ˜¯å¯¹GOTè¡¨å¤§å°æ— é™åˆ¶ã€‚ å³ï¼š å¦‚æœé“¾æ¥çš„å¯æ‰§è¡Œæ–‡ä»¶çš„GOTå¤§å°è¶…è¿‡è®¡ç®—æœºç‰¹å®šçš„æœ€å¤§å¤§å°ï¼Œåˆ™ä¼šä»é“¾æ¥å™¨æ”¶åˆ°é”™è¯¯æ¶ˆæ¯ï¼ŒæŒ‡ç¤º-fpicä¸èµ·ä½œç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨-fPICé‡æ–°ç¼–è¯‘ã€‚ ğŸ’¡ä¸ºäº†å…¼å®¹å„ä¸ªç³»ç»Ÿï¼Œåœ¨ç”Ÿæˆä½ç½®æ— å…³çš„ä»£ç çš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨-fPICå‚æ•°ã€‚</li></ul><p><strong><code>-DPIC</code></strong></p>`,22),_={href:"https://gcc.gnu.org/legacy-ml/gcc-help/2006-10/msg00147.html",target:"_blank",rel:"noopener noreferrer"},k=l('<h4 id="got-plt" tabindex="-1"><a class="header-anchor" href="#got-plt" aria-hidden="true">#</a> GOT/PLT</h4><p>è½½å…¥æ—¶é‡å®šä½çš„æè¿°ï¼š</p><p>åœ¨è°ƒç”¨åŠ¨æ€åº“ä¸­çš„å‡½æ•°æ—¶ï¼ŒåŠ¨æ€åŠ è½½å™¨åŠ¨æ€åˆ†é…ä¸€æ®µè¿›ç¨‹åœ°å€ç©ºé—´ï¼Œå°†åŠ¨æ€åº“åŠ è½½åˆ°è¯¥åœ°å€ç©ºé—´åï¼Œå†ä¿®æ”¹ä»£ç æ®µçš„ç¬¦å·åœ°å€ã€‚ è‡³äºéœ€è¦ä¿®æ”¹çš„å“ªäº›åœ°å€ï¼Œé“¾æ¥å™¨åœ¨åŠ¨æ€åº“çš„æ–‡ä»¶å¤´ä¸­é¢„å…ˆå†™å¥½ï¼Œä¾›åŠ è½½å™¨è¯»å–ä¿®æ”¹ã€‚</p><p>è½½å…¥æ—¶é‡å®šä½çš„ç¼ºç‚¹ï¼š</p><ol><li>åŠ¨æ€åº“çš„ä»£ç æ®µä¸èƒ½åœ¨è¿›ç¨‹é—´å…±äº«ï¼š å¤šä¸ªè¿›ç¨‹åŠ è½½åŒä¸€ä¸ªåŠ¨æ€åº“åˆ°å„è‡ªä¸åŒçš„åœ°å€ç©ºé—´ï¼Œå¯¼è‡´ä»£ç æ®µéœ€è¦ä¸åŒçš„é‡å®šä½ï¼Œæ‰€ä»¥æœ€ç»ˆæ¯ä¸ªå¼•ç”¨è¯¥åŠ¨æ€åº“çš„è¿›ç¨‹æ‹¥æœ‰ä¸€ä»½è¯¥åŠ¨æ€åº“ä»£ç æ®µçš„ä¸åŒæ‹·è´ã€‚</li><li>ä»£ç æ®µå¿…é¡»æ˜¯å¯å†™çš„ï¼Œå¢åŠ äº†è¢«æ”»å‡»é£é™©ã€‚</li></ol><p>ä¸ºäº†è§£å†³è½½å…¥æ—¶é‡å®šä½çš„é—®é¢˜ï¼Œå¼•å…¥äº†PICçš„æ¦‚å¿µï¼Œå³ä½ç½®æ— å…³ä»£ç ã€‚</p><p><strong>PICå®ç°åŸç†</strong></p><ol><li><strong>GOT</strong>ï¼š åœ¨åŠ¨æ€åº“çš„æ•°æ®æ®µå¢åŠ  GOTï¼ˆGlobal Offset Tableï¼‰ï¼Œè¯¥è¡¨çš„æ¯ä¸€é¡¹æ˜¯ç¬¦å·åˆ°åœ°å€çš„ç»å¯¹æ˜ å°„ã€‚ ç”±äºä»£ç æ®µåˆ°æ•°æ®æ®µçš„åç§»æ˜¯å›ºå®šçš„ï¼Œå› æ­¤å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç¡®å®šä»£ç æ®µä¸­çš„æŸä¸ªç¬¦å·åˆ°GOTç‰¹å®šé¡¹ä¹‹é—´çš„åç§»ã€‚ è¿™æ ·ï¼Œä»£ç æ®µä¸­çš„ç¬¦å·åç§»å°±å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç¡®å®šäº†ï¼Œåœ¨åŠ è½½æ—¶ä¹Ÿæ— éœ€ä¿®æ”¹ä»£ç æ®µçš„å†…å®¹ï¼Œåªéœ€è¦å¡«å†™ä½äºæ•°æ®æ®µçš„GOTçš„æ‰€æœ‰é¡¹çš„ç¬¦å·çš„ç»å¯¹åœ°å€å°±å®Œæˆäº†ã€‚ å› ä¸ºæ•°æ®æ®µæœ¬æ¥å°±æ˜¯è¿›ç¨‹é—´ä¸å…±äº«ï¼Œæ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹çš„ä¸€ä»½ï¼Œå› æ­¤GOTçš„è®¾è®¡å®Œå…¨è§£å†³äº†ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜ï¼Œä»è€Œè¾¾åˆ°ä¸¤ä¸ªç›®çš„ï¼š 1ï¼Œä»£ç æ®µå¯ä»¥åœ¨å¤šè¿›ç¨‹é—´å…±äº«ï¼› 2ï¼Œä»£ç æ®µæ˜¯åªè¯»çš„ã€‚</li><li><strong>PLT</strong>ï¼š PLTï¼ˆProgram Linkage Tableï¼Œç¨‹åºé“¾æ¥è¡¨ï¼‰ çš„å‡ºç°æ˜¯ä¸ºäº†å»¶æ—¶å®šä½çš„ç›®çš„ã€‚ ä¸€ä¸ªåŠ¨æ€åº“ä¸­çš„å‡½æ•°å¾€å¾€è¦è¿œå¤šäºå…¨å±€å˜é‡ï¼Œå¹¶ä¸”è¢«è°ƒç”¨çš„å‡½æ•°å¾€å¾€å°‘äºå®šä¹‰çš„å‡½æ•°ã€‚ ç”±äº GOT ä¸­åŒ…å«äº†è¯¥åŠ¨æ€åº“ä¸­çš„æ‰€æœ‰çš„å…¨å±€å˜é‡çš„æ˜ å°„ï¼Œå¹¶ä¸”åœ¨è¿æ¥å™¨åŠ è½½æ—¶è§£ææ‰€æœ‰çš„å…¨å±€å˜é‡çš„åœ°å€ã€‚ å¦‚æœç”¨åŒæ ·çš„æ–¹å¼å»å¤„ç†å‡½æ•°è°ƒç”¨ç¬¦å·ï¼Œåˆ™å¼€é”€ä¼šéå¸¸å¤§ã€‚ å› æ­¤åœ¨ä»£ç æ®µè®¾è®¡äº†ä¸€ä¸ª PLT ï¼ˆè¡¨ä¸­æ¯ä¸€é¡¹å…¶å®æ˜¯ä¸ªä»£ç æ®µï¼‰ ç”¨äºæ‰§è¡Œå¦‚ä¸‹é€»è¾‘ï¼š é¦–æ¬¡è®¿é—®æ—¶ï¼Œè§£æå‚æ•°å’Œå‘GOTå¡«å†™å‡½æ•°åœ°å€ï¼Œåç»­è®¿é—®ç›´æ¥è®¿é—® GOT ä¸­çš„å‡½æ•°åœ°å€ã€‚ å¦‚æ­¤è¾¾åˆ°äº†å»¶æ—¶å®šä½çš„ç›®çš„ã€‚</li></ol><p>å› æ­¤ï¼Œåœ¨ä¸€ä¸ª PIC çš„åŠ¨æ€åº“ä¸­ï¼Œ å¯¹å…¨å±€å˜é‡ä½¿ç”¨ GOT æ¥æ˜ å°„ï¼Œ å¯¹å‡½æ•°è°ƒç”¨ä½¿ç”¨ PLT + GOT æ¥æ˜ å°„ã€‚ ä»è€Œè¾¾åˆ°å…±äº«åº“ä»£ç æ®µå¤ç”¨ï¼Œä»£ç æ®µå®‰å…¨è®¿é—®çš„ç›®çš„ã€‚ è€Œè¿™äº›å°±æ˜¯ PIC çš„æ„ä¹‰ã€‚</p><h3 id="åˆ†æç¨‹åºå­—èŠ‚ç " tabindex="-1"><a class="header-anchor" href="#åˆ†æç¨‹åºå­—èŠ‚ç " aria-hidden="true">#</a> åˆ†æç¨‹åºå­—èŠ‚ç </h3><p>todo <code>od -Ad -t x1 -j 1136 -N 434 main</code></p><p>todo åæ±‡ç¼– <code>objdump -d main.o</code></p><h2 id="ç¼–è¯‘é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘é€‰é¡¹" aria-hidden="true">#</a> ç¼–è¯‘é€‰é¡¹</h2><h3 id="å®‰å…¨ç¼–è¯‘-é“¾æ¥é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#å®‰å…¨ç¼–è¯‘-é“¾æ¥é€‰é¡¹" aria-hidden="true">#</a> å®‰å…¨ç¼–è¯‘/é“¾æ¥é€‰é¡¹</h3>',14),x={href:"https://www.jianshu.com/p/91fae054f922",target:"_blank",rel:"noopener noreferrer"},g=l("<p>è‹¥ä¸åŠ ä¸Šï¼Œå¯èƒ½è¿è¡Œæ—¶ä¼šæ³„éœ²æŸäº›ä¿¡æ¯ï¼Œæ–¹ä¾¿é€†å‘ã€CTFã€‚</p><table><thead><tr><th>Â </th><th>ç¼–è¯‘é€‰é¡¹</th><th>é“¾æ¥é€‰é¡¹</th></tr></thead><tbody><tr><td>å¿…é€‰</td><td>PIC/PIE/Protect-Stack</td><td>rpath/Bind-Now/Strip</td></tr><tr><td>å¯é€‰</td><td>Fortify-Source/ftrapv</td><td></td></tr></tbody></table><p>å…·ä½“å«ä¹‰</p>",3),y=n("thead",null,[n("tr",null,[n("th",null,"ç¼–è¯‘/é“¾æ¥é€‰é¡¹"),n("th",null,"å¿…é€‰"),n("th",null,"å«ä¹‰"),n("th",null,"ä½¿ç”¨æ–¹æ³•")])],-1),L=n("tr",null,[n("td",null,[e("PIC"),n("br"),e("ï¼ˆPosition-Independent-Codeï¼‰")]),n("td",null,[n("span",{class:"level-1"},[e("å¿…é€‰"),n("br"),e("high")])]),n("td",null,[e("ä½ç½®æ— å…³ä»£ç  "),n("br"),e(" å®ç°åŠ¨æ€åº“éšæœºåŠ è½½")]),n("td",null,[n("code",null,"-fPIC"),e("/"),n("s",null,[n("code",null,"-fpic"),e("ï¼ˆæ—§ï¼‰")]),e(" ï¼ˆç¼–è¯‘é€‰é¡¹ï¼‰")])],-1),E=n("tr",null,[n("td",null,[e("PIE(ASLR)"),n("br"),e("PIE"),n("br"),e("ï¼ˆPosition-Independent-Executableï¼‰")]),n("td",null,[n("span",{class:"level-1"},[e("å¿…é€‰"),n("br"),e("high ")])]),n("td",null,[e("ä½ç½®æ— å…³ä»£ç /éšæœºåŒ–"),n("br"),e("å¯æ‰§è¡Œæ–‡ä»¶åœ¨åŠ è½½æ‰§è¡Œæ—¶å¯åƒå…±äº«åº“ä¸€æ ·éšæœºåŠ è½½ "),n("br"),e(" é™ä½å›ºå®šåœ°å€ç±»æ”»å‡»ã€ç¼“å†²æº¢å‡ºæ”»å‡»çš„æˆåŠŸç‡")]),n("td",null,[n("code",null,"-fPIE"),e("/"),n("s",null,[n("code",null,"-fpie"),e("ï¼ˆæ—§ï¼‰")]),e(" ï¼ˆç¼–è¯‘é€‰é¡¹ï¼‰ "),n("br"),e(),n("code",null,"-pie"),e(" ï¼ˆé“¾æ¥é€‰é¡¹ï¼‰ "),n("br"),e(" âš ï¸éœ€è¦ä¸Šè¿°ä¸¤ä¸ªé€‰é¡¹åŒæ—¶ä½¿ç”¨ "),n("br"),e(" è§£é‡Šï¼š "),n("ul",null,[n("li",null,[n("code",null,"-no-pie"),e(": å…³é—­")]),n("li",null,[n("code",null,"-pie"),e(": å¼€å¯")])])])],-1),O=n("td",null,[e("Canary"),n("br"),e("Protect-Stack"),n("br"),e("SP")],-1),C=n("td",null,[n("span",{class:"level-1"},[e("å¿…é€‰"),n("br"),e("high")])],-1),T=n("br",null,null,-1),R={href:"https://www.cnblogs.com/arnoldlu/p/11630979.html",target:"_blank",rel:"noopener noreferrer"},S=n("td",null,[n("code",null,"-fstack-protector-strong"),e("/"),n("s",null,[n("code",null,"-fstack-protector-all"),e("ï¼ˆæ—§ï¼‰")]),e(" ï¼ˆç¼–è¯‘é€‰é¡¹ï¼‰ "),n("br"),e(" è§£é‡Šï¼š "),n("ul",null,[n("li",null,[n("code",null,"-fno-stack-protector"),e(": å…³é—­")]),n("li",null,[n("code",null,"-fstack-protector"),e(": å¼€å¯")]),n("li",null,[n("code",null,"-fstack-protector-all"),e(": å…¨å¼€å¯")])])],-1),w=n("td",null,[e("Fortify"),n("br"),e("Fortify-Source"),n("br"),e("FS")],-1),P=n("td",null,[n("span",{class:"level-2"},[e("å¯é€‰"),n("br"),e("medium")])],-1),I=n("br",null,null,-1),F=n("br",null,null,-1),A={href:"https://forum.butian.net/share/1190",target:"_blank",rel:"noopener noreferrer"},N=n("br",null,null,-1),D=n("span",{style:{}},[e("Fority å…¶å®éå¸¸è½»å¾®çš„æ£€æŸ¥ï¼Œç”¨äºæ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºçš„é”™è¯¯ã€‚"),n("br"),e("Fortify æ˜¯GCCåœ¨ç¼–è¯‘æºç æ—¶åˆ¤æ–­ç¨‹åºçš„å“ªäº›bufferä¼šå­˜åœ¨å¯èƒ½çš„æº¢å‡ºã€‚"),n("br"),e("åœ¨bufferå¤§å°å·²çŸ¥çš„æƒ…å†µä¸‹ï¼ŒGCCä¼šæŠŠ strcpyã€memcpyã€memsetç­‰å‡½æ•°è‡ªåŠ¨æ›¿æ¢æˆç›¸åº”çš„"),n("code",null,"__strcpy_chk(dst, src, dstlen)"),e("ç­‰å‡½æ•°ï¼Œè¾¾åˆ°é˜²æ­¢ç¼“å†²åŒºæº¢å‡ºçš„ä½œç”¨ã€‚")],-1),G=n("td",null,[n("code",null,"-O2"),e(" ï¼ˆç¼–è¯‘é€‰é¡¹ï¼‰ "),n("br"),e(),n("code",null,"-D_FORTIFY_SOURCE=2"),e(" ï¼ˆç¼–è¯‘é€‰é¡¹ï¼Œé»˜è®¤å¼€å¯ï¼Œä½†éœ€è¦"),n("code",null,"-O2"),e("å¯åŠ¨æ—¶æ‰ä¼šæ¿€æ´»ï¼‰")],-1),z=n("tr",null,[n("td",null,"ftrapv"),n("td",null,[n("span",{class:"level-2"},[e("å¯é€‰"),n("br"),e("medium")])]),n("td",null,[e("æ•´æ•°æº¢å‡ºæ£€æŸ¥ "),n("br"),e(" ä½¿ç”¨äº†å®ƒä¹‹åï¼Œåœ¨æ‰§è¡Œæœ‰ç¬¦å·æ•´æ•°é—´çš„åŠ å‡ä¹˜è¿ç®—æ—¶ï¼Œä¸æ˜¯é€šè¿‡CPUçš„æŒ‡ä»¤ï¼Œè€Œæ˜¯ç”¨åŒ…å«äº†GCCé™„å±åº“çš„libgcc.cé‡Œé¢çš„å‡½æ•°æ¥å®ç°æ‰§è¡Œå¸¦ç¬¦å·çš„æ•´æ•°é—´çš„åŠ /å‡/ä¹˜/é™¤è¿ç®—ã€‚ "),n("br"),e(),n("span",{sytle:"background:yellow"},"å¯¹æ€§èƒ½å½±å“æ¯”è¾ƒå¤§ã€‚")]),n("td",null,[n("code",null,"-ftrapv"),e(" ï¼ˆç¼–è¯‘é€‰é¡¹ï¼‰")])],-1),U=n("tr",null,[n("td",null,"NX(DEP)"),n("td",null,[n("span",{class:"level-1"},[e("å¯é€‰"),n("br"),e("high")])]),n("td",null,"å †æ ˆä¸å¯æ‰§è¡Œ"),n("td",null,[n("code",null,"-z noexecstack"),e(),n("br"),e(" è§£é‡Šï¼š "),n("ul",null,[n("li",null,[n("code",null,"-z execstack"),e(": å…³é—­")]),n("li",null,[n("code",null,"-z noexecstack"),e(": å¼€å¯")])])])],-1),B=n("tr",null,[n("td",null,"rpath"),n("td",null,[n("span",{class:"level-1"},[e("å¿…é€‰"),n("br"),e("high")])]),n("td",null,[e("ç¦ç”¨ï¼š â€œåŠ¨æ€åº“æœç´¢è·¯å¾„â€ "),n("br"),e(" ç¦ç”¨ï¼š "),n("code",null,"-rpath"),e(),n("br"),e(" äºŒè¿›åˆ¶ç‰¹å¾ä¼šæ˜¾ç¤ºrpath/runpathè·¯å¾„ã€‚æ”»å‡»è€…æ›´åŠ å®¹æ˜“æ„é€ rpathç±»çš„æ”»å‡» "),n("br"),e(),n("s",null,[e("æŒ‡å®šè¿è¡Œæ—¶é¿å…ä½¿ç”¨é“¾æ¥å™¨ "),n("code",null,"-Wl,-rpath=."),e(" å¯»æ‰¾åŠ¨æ€åº“çš„è·¯å¾„")])]),n("td",null,[n("code",null,"set(CMAKE_SKIP_RPATH TRUE)"),e(" ï¼ˆCmakeï¼‰")])],-1),V=n("tr",null,[n("td",null,"Bind-Now"),n("td",null,[n("span",{class:"level-1"},[e("å¿…é€‰"),n("br"),e("high")])]),n("td",null,"ç«‹å³ç»‘å®š"),n("td",null,[n("code",null,"-Wl,-z,now"),e(" ï¼ˆé“¾æ¥é€‰é¡¹ï¼‰ "),n("br"),e(" æˆ–ï¼š"),n("code",null,"LD_BIND_NOW=1")])],-1),W=n("tr",null,[n("td",null,"RELRO"),n("td",null,[n("span",{class:"level-1"},[e("å¿…é€‰"),n("br"),e("high")])]),n("td",null,[e("GOTè¡¨ä¿æŠ¤"),n("br"),e("å…¨éƒ¨é‡å®šå‘åªè¯»ä¿æŠ¤ï¼Œé˜²æ­¢å†…å­˜è¶Šç•Œï¼Œä¸€æ—¦è¶Šç•Œå°±ä¼šsegmentation faulã€‚"),n("br"),e("å¯¹ret2pltæ”»å‡»è¿›è¡Œé˜²æŠ¤")]),n("td",null,[n("code",null,"-Wl,-z,relro"),e(" ï¼ˆé“¾æ¥é€‰é¡¹ï¼‰ "),n("br"),e(" è§£é‡Šï¼š"),n("ul",null,[n("li",null,[n("code",null,"-z norelro"),e(": å…³é—­")]),n("li",null,[n("code",null,"-z lazy"),e(": éƒ¨åˆ†å¼€å¯")]),n("li",null,[n("code",null,"-z now"),e(": å®Œå…¨å¼€å¯")])])])],-1),M=n("tr",null,[n("td",null,"Strip"),n("td",null,[n("span",{class:"level-2"},[e("å¿…é€‰"),n("br"),e("medium ")])]),n("td",null,[e("å»é™¤ç¬¦å·è¡¨ï¼šé“¾æ¥è¿‡ç¨‹å®Œæˆåï¼Œç¬¦å·è¡¨å¯¹å¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œå·²æ— ä»»ä½•ä½œç”¨ï¼Œåè€Œä¼šæˆä¸ºæ”»å‡»è€…æ„é€ æ”»å‡»çš„å·¥å…·ã€‚"),n("br"),e("åŒæ—¶ï¼Œåˆ é™¤ç¬¦å·è¡¨è¿˜å¯ä»¥å¯¹æ–‡ä»¶â€œå‡è‚¥â€ï¼Œé™ä½æ–‡ä»¶å¤§å°")]),n("td",null,[n("code",null,"-Wl,-s"),e(" ï¼ˆé“¾æ¥é€‰é¡¹ï¼‰")])],-1),j=n("h3",{id:"å®‰å…¨ç¼–è¯‘é€‰é¡¹æ£€æµ‹å·¥å…·",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å®‰å…¨ç¼–è¯‘é€‰é¡¹æ£€æµ‹å·¥å…·","aria-hidden":"true"},"#"),e(" å®‰å…¨ç¼–è¯‘é€‰é¡¹æ£€æµ‹å·¥å…·")],-1),Y=n("h4",{id:"binscope-todo",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#binscope-todo","aria-hidden":"true"},"#"),e(" binscope todo")],-1),$=n("p",null,"å‚è€ƒï¼š",-1),H={href:"https://zhuanlan.zhihu.com/p/624647089",target:"_blank",rel:"noopener noreferrer"},q={href:"https://www.microsoft.com/en-us/download/details.aspx?id=44995",target:"_blank",rel:"noopener noreferrer"},X={href:"https://docs.microsoft.com/en-us/cpp/build/reference/compiling-a-c-cpp-program?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},K={href:"https://docs.microsoft.com/en-us/cpp/build/reference/linking?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},Z={href:"https://blog.csdn.net/sunweiliang/article/details/89338099",target:"_blank",rel:"noopener noreferrer"},J={href:"https://blog.csdn.net/john_crash/article/details/50127309",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://docs.microsoft.com/en-us/cpp/security/security-best-practices-for-cpp?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},nn={href:"https://docs.microsoft.com/en-us/cpp/c-runtime-library/security-features-in-the-crt?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},en={href:"https://docs.microsoft.com/en-us/cpp/standard-library/iterator-debug-level?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},sn={href:"https://docs.microsoft.com/en-us/cpp/standard-library/checked-iterators?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},an={href:"https://docs.microsoft.com/en-us/cpp/code-quality/code-analysis-for-c-cpp-overview?view=msvc-170",target:"_blank",rel:"noopener noreferrer"},ln={href:"https://www.microsoft.com/en-us/download/details.aspx?id=44995",target:"_blank",rel:"noopener noreferrer"},tn={href:"https://github.com/andrew-d/binscope",target:"_blank",rel:"noopener noreferrer"},rn={href:"https://gitee.com/dangoxj/secbinarycheck-result-analyzer",target:"_blank",rel:"noopener noreferrer"};function dn(cn,on){const t=i("RouterLink"),a=i("ExternalLinkIcon");return d(),c("div",null,[p,n("p",null,[e("cmake: "),s(t,{to:"/dev/c/cmake.html"},{default:o(()=>[e("link")]),_:1})]),b,n("details",v,[m,n("ul",null,[n("li",null,[e("Linuxç³»ç»Ÿä¸­ç¼–è¯‘ã€é“¾æ¥çš„åŸºçŸ³-ELFæ–‡ä»¶ï¼šæ‰’å¼€å®ƒçš„å±‚å±‚å¤–è¡£ï¼Œä»å­—èŠ‚ç çš„ç²’åº¦æ¥æ¢ç´¢ - "),n("a",h,[e("https://mp.weixin.qq.com/s/ZOvHG_ofiU6iWtoSR9bFow"),s(a)])])])]),f,n("p",null,[e("æ ¹æ® "),n("a",_,[e("Re: What does -DPIC linker flag mean"),s(a)]),e(" æåˆ°ï¼š todo")]),k,n("p",null,[e("todo linuxç¨‹åºä¿æŠ¤æœºåˆ¶&gccç¼–è¯‘é€‰é¡¹ - "),n("a",x,[e("https://www.jianshu.com/p/91fae054f922"),s(a)])]),g,n("table",null,[y,n("tbody",null,[L,E,n("tr",null,[O,C,n("td",null,[e("æ ˆä¿æŠ¤ã€‚å¯ä»¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿæº¢å‡ºæ”»å‡» "),T,e(" å‚è€ƒï¼š "),n("a",R,[e("https://www.cnblogs.com/arnoldlu/p/11630979.html"),s(a)])]),S]),n("tr",null,[w,P,n("td",null,[e("GCCç¼–è¯‘å™¨å’Œglibcåº“é…åˆæä¾›åœ¨ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶å¯¹å›ºå®šå¤§å°çš„ç¼“å†²åŒºçš„è®¿é—® "),I,e(" ï¼ˆæ— è®ºæ—¶åŠ¨æ€åˆ†é…çš„è¿˜æ˜¯é™æ€å£°æ˜çš„å†…å­˜ç©ºé—´ï¼‰ "),F,e(" å‚è€ƒï¼š "),n("a",A,[e("https://forum.butian.net/share/1190"),s(a)]),e(),N,e(),D]),G]),z,U,B,V,W,M])]),j,Y,$,n("ul",null,[n("li",null,[e("todo binscopeè¯´æ˜ - Windowså¹³å°MSVCçš„å®‰å…¨ç¼–è¯‘é€‰é¡¹æ£€æµ‹å·¥å…· "),n("a",H,[e("https://zhuanlan.zhihu.com/p/624647089"),s(a)]),n("ul",null,[n("li",null,[e("todo "),n("a",q,[e("binscope"),s(a)])]),n("li",null,[e("todo "),n("a",X,[e("å®˜æ–¹æ–‡æ¡£ ç¼–è¯‘å™¨é€‰é¡¹"),s(a)])]),n("li",null,[e("todo "),n("a",K,[e("å®˜æ–¹æ–‡æ¡£ é“¾æ¥å™¨é€‰é¡¹"),s(a)])]),n("li",null,[e("todo "),n("a",Z,[e("MSVCç¼–è¯‘å‚æ•°"),s(a)])]),n("li",null,[e("todo "),n("a",J,[e("MSVCç¼–è¯‘å‚æ•°"),s(a)])]),n("li",null,[e("todo "),n("a",Q,[e("Security Best Practices for C++"),s(a)])]),n("li",null,[e("todo "),n("a",nn,[e("Security Features in the CRT"),s(a)])]),n("li",null,[e("todo "),n("a",en,[e("_ITERATOR_DEBUG_LEVEL"),s(a)])]),n("li",null,[e("todo "),n("a",sn,[e("Checked Iterators"),s(a)])]),n("li",null,[e("todo "),n("a",an,[e("Code analysis for C/C++ overview"),s(a)])])])]),n("li",null,[e("todo BinScope 2014 "),n("a",ln,[e("https://www.microsoft.com/en-us/download/details.aspx?id=44995"),s(a)])]),n("li",null,[e("todo binscope github "),n("a",tn,[e("https://github.com/andrew-d/binscope"),s(a)])]),n("li",null,[e("todo SecBinaryCheck ResultAnalyzer "),n("a",rn,[e("https://gitee.com/dangoxj/secbinarycheck-result-analyzer"),s(a)])])])])}const pn=r(u,[["render",dn],["__file","build.html.vue"]]);export{pn as default};
